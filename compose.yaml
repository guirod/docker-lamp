volumes:
  db-data:
  workspace-wsl:
    driver: local
    driver_opts:
      type: none
      device: \\wsl.localhost\docker-desktop\mnt\docker-desktop-disk\data\docker\volumes\docker-lamp_workspace-wsl\_data
      o: bind

services:
  mariadb:
    image: mariadb:lts
    restart: always
    environment:
      MARIADB_ROOT_PASSWORD: p@ssw0rd
    volumes:
      - db-data:/var/lib/mysql
    ports:
      - "3306:3306"

  php8_mysql:
    build: .
    restart: always
    volumes:
      - workspace-wsl:/var/www/html
      - ~/.gitconfig:/root/.gitconfig
    ports:
      - "80:80"
      - "8000:8000"
    extra_hosts:
      - "host.docker.internal:host-gateway"

  mailhog:
    image: mailhog/mailhog:latest
    restart: always
    ports:
      - "1025:1025"
      - "8025:8025"
